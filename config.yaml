# Claude Headspace Configuration
# Environment variables override these values (e.g., FLASK_SERVER_PORT=8080)

server:
  host: "0.0.0.0"
  port: 5055
  debug: true

logging:
  level: "INFO"
  file: "logs/app.log"

# Database Configuration
# DATABASE_URL env var takes precedence if set
# Individual fields can be overridden with DATABASE_HOST, DATABASE_PORT, etc.
database:
  host: "localhost"
  port: 5432
  name: "claude_headspace"
  user: "samotage"
  password: ""
  pool_size: 10
  pool_timeout: 30

# Claude Code integration
claude:
  projects_path: "~/.claude/projects"

# File watcher for monitoring Claude Code session files
file_watcher:
  polling_interval: 2  # seconds (fallback mode)
  reconciliation_interval: 60  # seconds (hooks-active mode)
  inactivity_timeout: 5400  # 90 minutes in seconds
  debounce_interval: 0.5  # seconds

# Event system for persisting events to Postgres
event_system:
  write_retry_attempts: 3
  write_retry_delay_ms: 100
  max_restarts_per_minute: 5
  shutdown_timeout_seconds: 2

# Server-Sent Events (SSE) for real-time updates
sse:
  heartbeat_interval_seconds: 30
  max_connections: 100
  connection_timeout_seconds: 60
  retry_after_seconds: 5
